(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3209:(e,r,t)=>{Promise.resolve().then(t.bind(t,6953))},8250:(e,r,t)=>{"use strict";t.d(r,{Hu:()=>n,WH:()=>d,Sj:()=>o,q0:()=>a,MO:()=>f,Bx:()=>h,Sx:()=>u});let n=null!==(i=null===(l=t.g.process)||void 0===l?void 0:l.env.CHAIN_TYPE)&&void 0!==i?i:"testnet";null===(s=t.g.process)||void 0===s||s.env.FNN_ENDPOINT,null===(c=t.g.process)||void 0===c||c.env.CKB_NODE_ENDPOINT;let a="mainnet"===n?"https://explorer.nervos.org":"https://testnet.explorer.nervos.org";var l,s,c,i,d=function(e){return e.NegotiatingFunding="NEGOTIATING_FUNDING",e.CollaboratingFundingTx="COLLABORATING_FUNDING_TX",e.SigningCommitment="SIGNING_COMMITMENT",e.AwaitingTxSignatures="AWAITING_TX_SIGNATURES",e.AwaitingChannelReady="AWAITING_CHANNEL_READY",e.ChannelReady="CHANNEL_READY",e.ShuttingDown="SHUTTING_DOWN",e.Closed="CLOSED",e}({}),o=function(e){return e.Fibb="Fibb",e.Fibt="Fibt",e.Fibd="Fibd",e}({}),u=function(e){return e.Open="Open",e.Cancelled="Cancelled",e.Expired="Expired",e.Received="Received",e.Paid="Paid",e.BeingCancelled="BeingCancelled",e.Archived="Archived",e}({}),f=function(e){return e.Account="Account",e.Peer="Peer",e.Channel="Channel",e.Merchant="Merchant",e.Invoice="Order",e}({}),h=function(e){return e.New="New",e.Delete="Delete",e.Update="Update",e.Archive="Archive",e.Cancel="Cancel",e}({})},9174:(e,r,t)=>{"use strict";t.d(r,{KJ:()=>l,Nn:()=>a,Xc:()=>s,oq:()=>c});var n=t(5064);let a=async()=>fetch("".concat(n.C,"/info")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),l=async()=>fetch("".concat(n.C,"/info/admin")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),s=async()=>fetch("".concat(n.C,"/info/finance")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),c=async()=>fetch("".concat(n.C,"/info/udt-info")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e})},5064:(e,r,t)=>{"use strict";t.d(r,{C:()=>n,a:()=>a});let n="http://localhost:3000/api",a=1e4},6953:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var n=t(3528),a=t(5316),l=t(5547),s=t(9174),c=t(5064),i=t(9992),d=t(736),o=t(8569),u=t(2457),f=function(e){return e.Total="TOTAL",e.ChannelReady="CHANNEL_READY",e.CLOSED="CLOSED",e}({});let h=e=>{switch(e){case"TOTAL":return{label:"Total Nets",description:"Includes pending and finalized nets"};case"CHANNEL_READY":return{label:"Pending Nets",description:"Nets locked in channels"};case"CLOSED":return{label:"Finalized Nets",description:"Nets been claimed from channels"};default:return{label:e,description:""}}},x=e=>{let{label:r,tokens:t}=e,a=h(r);return(0,n.jsxs)(o.Zp,{children:[(0,n.jsxs)(o.aR,{children:[(0,n.jsx)(o.ZB,{children:a.label}),(0,n.jsx)(o.BT,{children:a.description})]}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)(u.XI,{children:[(0,n.jsx)(u.A0,{children:(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nd,{className:"w-[100px]",children:"Token"}),(0,n.jsx)(u.nd,{className:"text-right",children:"Net"})]})}),(0,n.jsx)(u.BF,{children:t.map(e=>{let[r,{name:t,net:a}]=e;return(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nA,{className:"font-medium",children:t}),(0,n.jsx)(u.nA,{className:"text-right",children:a.toLocaleString("en")})]},r)})})]})})]})},m=async()=>fetch("".concat(c.C,"/events")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e});var p=t(8250);let N=()=>{let{data:e}=(0,l.I)({queryKey:["events"],queryFn:m,refetchInterval:c.a,refetchOnWindowFocus:!0}),{data:r}=(0,l.I)({queryKey:["udt-info"],queryFn:s.oq,refetchOnWindowFocus:!0});return(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{children:(0,n.jsx)(o.ZB,{children:"Recent Events"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)(u.XI,{children:[(0,n.jsx)(u.A0,{children:(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nd,{className:"w-[100px]",children:"Topic"}),(0,n.jsx)(u.nd,{children:"Type"}),(0,n.jsx)(u.nd,{children:"Detail"}),(0,n.jsx)(u.nd,{className:"text-right",children:"Time"})]})}),(0,n.jsx)(u.BF,{children:null==e?void 0:e.result.list.map(e=>{var t,a,l,s;let c=null;switch(e.topic){case p.MO.Invoice:switch(e.type){case p.Bx.New:{let n=BigInt(null!==(a=e.quantity)&&void 0!==a?a:0).toLocaleString(),l=e.description;if(!l){c="".concat(n," CKB");break}let s=null==r?void 0:null===(t=r.result.find(e=>e.script_hash===l))||void 0===t?void 0:t.name;c="".concat(n," ").concat(s);break}case p.Bx.Update:c="Order ".concat(e.target," ").concat(e.description)}break;case p.MO.Channel:switch(e.type){case p.Bx.New:{let t=BigInt(null!==(l=e.quantity)&&void 0!==l?l:0).toLocaleString(),n=e.description;if(n){let e=null==r?void 0:null===(s=r.result.find(e=>e.script_hash===n))||void 0===s?void 0:s.name;c="Local balance: ".concat(t," ").concat(e);break}c="Local balance: ".concat(t," CKB");break}case p.Bx.Update:c="Channel ".concat(e.target," ").concat(e.description)}break;case p.MO.Peer:c=e.description;break;case p.MO.Merchant:e.type===p.Bx.New&&(c="Merchant id: ".concat(e.description));break;case p.MO.Account:c="Script hash: ".concat(e.description)}return(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nA,{className:"font-medium",children:e.topic}),(0,n.jsx)(u.nA,{children:e.type}),(0,n.jsx)(u.nA,{children:c}),(0,n.jsx)(u.nA,{className:"text-right",children:new Date(e.timestamp).toLocaleString()})]},e.id)})})]})})]})};function j(){let{data:e}=(0,l.I)({queryKey:["info"],queryFn:s.Xc,refetchInterval:c.a,refetchOnWindowFocus:!0}),r=(0,a.useMemo)(()=>{let r=new Map([[f.Total,new Map]]);if(!(null==e?void 0:e.result))return r;let{udt_info:t,channel:n}=e.result;return Object.entries(n).forEach(e=>{var n,a;let[l,s]=e,c=null!==(a=l.startsWith("0x")?null===(n=t.find(e=>e.script_hash===l))||void 0===n?void 0:n.name:l)&&void 0!==a?a:null;Object.entries(s).forEach(e=>{var t,n;let[a,{net:s}]=e,i=null!==(t=r.get(a))&&void 0!==t?t:new Map;i.set(l,{name:c,net:BigInt(s)}),r.set(a,i);let d=r.get(f.Total),o=null!==(n=d.get(l))&&void 0!==n?n:{name:c,net:BigInt(0)};o.net+=BigInt(s),d.set(l,o),r.set(f.Total,d)})}),r},[e]);return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,n.jsx)(i.x2,{className:"ml-1"}),(0,n.jsx)(d.Qp,{children:(0,n.jsx)(d.AB,{children:(0,n.jsx)(d.J5,{children:(0,n.jsx)(d.tJ,{children:"Dashboard"})})})})]}),(0,n.jsxs)("main",{className:"flex flex-col gap-8 items-center p-10",children:[(0,n.jsx)("div",{className:"w-full grid grid-cols-3 gap-10",children:[...r.entries()].map(e=>{let[r,t]=e;return(0,n.jsx)(x,{label:r,tokens:Array.from(t)},r)})}),(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(N,{})})]})]})}},736:(e,r,t)=>{"use strict";t.d(r,{AB:()=>d,J5:()=>o,Qp:()=>i,tH:()=>f,tJ:()=>u});var n=t(3528),a=t(5316),l=t(2635),s=t(9070),c=(t(4769),t(6856));let i=a.forwardRef((e,r)=>{let{...t}=e;return(0,n.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...t})});i.displayName="Breadcrumb";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("ol",{ref:r,className:(0,c.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...a})});d.displayName="BreadcrumbList";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("li",{ref:r,className:(0,c.cn)("inline-flex items-center gap-1.5",t),...a})});o.displayName="BreadcrumbItem",a.forwardRef((e,r)=>{let{asChild:t,className:a,...s}=e,i=t?l.DX:"a";return(0,n.jsx)(i,{ref:r,className:(0,c.cn)("transition-colors hover:text-foreground",a),...s})}).displayName="BreadcrumbLink";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,c.cn)("font-normal text-foreground",t),...a})});u.displayName="BreadcrumbPage";let f=e=>{let{children:r,className:t,...a}=e;return(0,n.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,c.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...a,children:null!=r?r:(0,n.jsx)(s.A,{})})};f.displayName="BreadcrumbSeparator"},8569:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>o,ZB:()=>i,Zp:()=>s,aR:()=>c});var n=t(3528),a=t(5316),l=t(6856);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});s.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},2457:(e,r,t)=>{"use strict";t.d(r,{A0:()=>c,BF:()=>i,Hj:()=>d,XI:()=>s,nA:()=>u,nd:()=>o,r6:()=>f});var n=t(3528),a=t(5316),l=t(6856);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",t),...a})})});s.displayName="Table";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",t),...a})});c.displayName="TableHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...a})});i.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});d.displayName="TableRow";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("th",{ref:r,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})});o.displayName="TableHead";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("td",{ref:r,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})});u.displayName="TableCell";let f=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...a})});f.displayName="TableCaption"},4769:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(5420).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[878,356,928,992,465,743,358],()=>r(3209)),_N_E=e.O()}]);