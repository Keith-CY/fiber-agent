(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3209:(e,r,t)=>{Promise.resolve().then(t.bind(t,6953))},8250:(e,r,t)=>{"use strict";t.d(r,{Hu:()=>n,Lc:()=>l,WH:()=>o,Sj:()=>u,q0:()=>a,MO:()=>h,Bx:()=>m,Sx:()=>f});let n=null!==(d=null===(s=t.g.process)||void 0===s?void 0:s.env.CHAIN_TYPE)&&void 0!==d?d:"testnet";null===(c=t.g.process)||void 0===c||c.env.FNN_ENDPOINT,null===(i=t.g.process)||void 0===i||i.env.CKB_NODE_ENDPOINT;let a="mainnet"===n?"https://explorer.nervos.org":"https://testnet.explorer.nervos.org",l=8;var s,c,i,d,o=function(e){return e.NegotiatingFunding="NEGOTIATING_FUNDING",e.CollaboratingFundingTx="COLLABORATING_FUNDING_TX",e.SigningCommitment="SIGNING_COMMITMENT",e.AwaitingTxSignatures="AWAITING_TX_SIGNATURES",e.AwaitingChannelReady="AWAITING_CHANNEL_READY",e.ChannelReady="CHANNEL_READY",e.ShuttingDown="SHUTTING_DOWN",e.Closed="CLOSED",e}({}),u=function(e){return e.Fibb="Fibb",e.Fibt="Fibt",e.Fibd="Fibd",e}({}),f=function(e){return e.Open="Open",e.Cancelled="Cancelled",e.Expired="Expired",e.Received="Received",e.Paid="Paid",e.BeingCancelled="BeingCancelled",e.Archived="Archived",e}({}),h=function(e){return e.Account="Account",e.Peer="Peer",e.Channel="Channel",e.Merchant="Merchant",e.Invoice="Order",e}({}),m=function(e){return e.New="New",e.Delete="Delete",e.Update="Update",e.Archive="Archive",e.Cancel="Cancel",e}({})},9174:(e,r,t)=>{"use strict";t.d(r,{KJ:()=>l,Nn:()=>a,X:()=>c,Xc:()=>s,ps:()=>i});var n=t(5064);let a=async()=>fetch("".concat(n.C,"/info")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),l=async()=>fetch("".concat(n.C,"/info/admin")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),s=async()=>fetch("".concat(n.C,"/info/finance")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),c=async()=>fetch("".concat(n.C,"/info/udt-info")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e}),i=async(e,r)=>fetch("".concat(n.C,"/info/udt-info/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({decimal:r})}).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e})},5064:(e,r,t)=>{"use strict";t.d(r,{C:()=>n,a:()=>a});let n="http://localhost:3000/api",a=1e4},6953:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var n=t(3528),a=t(5316),l=t(5547),s=t(9174),c=t(5064),i=t(9992),d=t(736),o=t(8569),u=t(2457),f=t(6856),h=t(3004),m=function(e){return e.Total="TOTAL",e.ChannelReady="CHANNEL_READY",e.CLOSED="CLOSED",e}({});let x=e=>{switch(e){case"TOTAL":return{label:"Total Nets",description:"Includes pending and finalized nets"};case"CHANNEL_READY":return{label:"Pending Nets",description:"Nets locked in channels"};case"CLOSED":return{label:"Finalized Nets",description:"Nets been claimed from channels"};default:return{label:e,description:""}}},p=e=>{let{label:r,tokens:t}=e,a=x(r);return(0,n.jsxs)(o.Zp,{children:[(0,n.jsxs)(o.aR,{children:[(0,n.jsx)(o.ZB,{children:a.label}),(0,n.jsx)(o.BT,{children:a.description})]}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)(u.XI,{children:[(0,n.jsx)(u.A0,{children:(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nd,{children:"Token"}),(0,n.jsx)(u.nd,{className:"text-right",children:"Net"})]})}),(0,n.jsx)(u.BF,{children:t.map(e=>{let[r,{name:t,net:a,decimal:l}]=e;return(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nA,{className:"font-medium",children:t}),(0,n.jsxs)(u.nA,{className:"flex gap-1 justify-end items-center",children:[(0,f.c)(a.toString(),l).toFormat(),null===l?(0,n.jsx)(h.Y,{}):null]})]},r)})})]})})]})},N=async()=>fetch("".concat(c.C,"/events")).then(e=>e.json()).then(e=>{if(e.code)throw Error(e.error);return e});var j=t(8250);let b=()=>{let{data:e}=(0,l.I)({queryKey:["events"],queryFn:N,refetchInterval:c.a,refetchOnWindowFocus:!0}),{data:r}=(0,l.I)({queryKey:["udt-infos"],queryFn:s.X,refetchOnWindowFocus:!0});return(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{children:(0,n.jsx)(o.ZB,{children:"Recent Events"})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)(u.XI,{children:[(0,n.jsx)(u.A0,{children:(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nd,{className:"w-[100px]",children:"Topic"}),(0,n.jsx)(u.nd,{children:"Type"}),(0,n.jsx)(u.nd,{children:"Detail"}),(0,n.jsx)(u.nd,{className:"text-right",children:"Time"})]})}),(0,n.jsx)(u.BF,{children:null==e?void 0:e.result.list.map(e=>{var t,a,l,s;let c=null;switch(e.topic){case j.MO.Invoice:switch(e.type){case j.Bx.New:{let n=e.description;if(!n){c="".concat((0,f.c)(null!==(t=e.quantity)&&void 0!==t?t:"0",j.Lc).toFormat()," CKB");break}let l=null==r?void 0:r.result.find(e=>e.script_hash===n),s=null==l?void 0:l.name,i=(null==l?void 0:l.decimal)?+l.decimal:null;c="".concat((0,f.c)(null!==(a=e.quantity)&&void 0!==a?a:"0",i).toFormat()).concat(null===i?"(raw value)":""," ").concat(s);break}case j.Bx.Update:c="Order ".concat(e.target," ").concat(e.description)}break;case j.MO.Channel:switch(e.type){case j.Bx.New:{let t=e.description;if(t){let n=null==r?void 0:r.result.find(e=>e.script_hash===t),a=null==n?void 0:n.name,s=(null==n?void 0:n.decimal)?+n.decimal:null;c="Local balance: ".concat((0,f.c)(null!==(l=e.quantity)&&void 0!==l?l:"0",s).toFormat()).concat(null===s?"(raw value)":""," ").concat(a);break}c="Local balance: ".concat((0,f.c)(null!==(s=e.quantity)&&void 0!==s?s:"0",j.Lc).toFormat()," CKB");break}case j.Bx.Update:c="Channel ".concat(e.target," ").concat(e.description)}break;case j.MO.Peer:c=e.description;break;case j.MO.Merchant:e.type===j.Bx.New&&(c="Merchant id: ".concat(e.description));break;case j.MO.Account:c="Script hash: ".concat(e.description)}return(0,n.jsxs)(u.Hj,{children:[(0,n.jsx)(u.nA,{className:"font-medium",children:e.topic}),(0,n.jsx)(u.nA,{children:e.type}),(0,n.jsx)(u.nA,{children:c}),(0,n.jsx)(u.nA,{className:"text-right",children:new Date(e.timestamp).toLocaleString()})]},e.id)})})]})})]})};function v(){let{data:e}=(0,l.I)({queryKey:["info"],queryFn:s.Xc,refetchInterval:c.a,refetchOnWindowFocus:!0}),r=(0,a.useMemo)(()=>{let r=new Map([[m.Total,new Map]]);if(!(null==e?void 0:e.result))return r;let{udt_info:t,channel:n}=e.result;return Object.entries(n).forEach(e=>{var n;let[a,l]=e,s="CKB"===a?{name:"CKB",decimal:j.Lc}:t.find(e=>e.script_hash===a),c=(null==s?void 0:s.decimal)?+s.decimal:null,i="".concat(null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"-");Object.entries(l).forEach(e=>{var t,n;let[l,{net:d}]=e,o=null!==(t=r.get(l))&&void 0!==t?t:new Map;o.set(a,{name:i,net:BigInt(d),decimal:c}),r.set(l,o);let u=r.get(m.Total),f=null!==(n=u.get(a))&&void 0!==n?n:{name:i,net:BigInt(0),decimal:(null==s?void 0:s.decimal)?+s.decimal:null};f.net+=BigInt(d),u.set(a,f),r.set(m.Total,u)})}),r},[e]);return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,n.jsx)(i.x2,{className:"ml-1"}),(0,n.jsx)(d.Qp,{children:(0,n.jsx)(d.AB,{children:(0,n.jsx)(d.J5,{children:(0,n.jsx)(d.tJ,{children:"Dashboard"})})})})]}),(0,n.jsxs)("main",{className:"flex flex-col gap-8 items-center p-10",children:[(0,n.jsx)("div",{className:"w-full grid grid-cols-3 gap-10",children:[...r.entries()].map(e=>{let[r,t]=e;return(0,n.jsx)(p,{label:r,tokens:Array.from(t)},r)})}),(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(b,{})})]})]})}},3004:(e,r,t)=>{"use strict";t.d(r,{Y:()=>s});var n=t(3528),a=t(7369),l=t(843);let s=()=>(0,n.jsx)(a.default,{href:"/udt-infos",title:"Set decimal",children:(0,n.jsx)(l.A,{size:"10",color:"#FFB11B"})})},736:(e,r,t)=>{"use strict";t.d(r,{AB:()=>d,J5:()=>o,Qp:()=>i,tH:()=>f,tJ:()=>u});var n=t(3528),a=t(5316),l=t(2635),s=t(9070),c=(t(4769),t(6856));let i=a.forwardRef((e,r)=>{let{...t}=e;return(0,n.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...t})});i.displayName="Breadcrumb";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("ol",{ref:r,className:(0,c.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...a})});d.displayName="BreadcrumbList";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("li",{ref:r,className:(0,c.cn)("inline-flex items-center gap-1.5",t),...a})});o.displayName="BreadcrumbItem",a.forwardRef((e,r)=>{let{asChild:t,className:a,...s}=e,i=t?l.DX:"a";return(0,n.jsx)(i,{ref:r,className:(0,c.cn)("transition-colors hover:text-foreground",a),...s})}).displayName="BreadcrumbLink";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,c.cn)("font-normal text-foreground",t),...a})});u.displayName="BreadcrumbPage";let f=e=>{let{children:r,className:t,...a}=e;return(0,n.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,c.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...a,children:null!=r?r:(0,n.jsx)(s.A,{})})};f.displayName="BreadcrumbSeparator"},8569:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>o,ZB:()=>i,Zp:()=>s,aR:()=>c});var n=t(3528),a=t(5316),l=t(6856);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});s.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},2457:(e,r,t)=>{"use strict";t.d(r,{A0:()=>c,BF:()=>i,Hj:()=>d,XI:()=>s,nA:()=>u,nd:()=>o,r6:()=>f});var n=t(3528),a=t(5316),l=t(6856);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",t),...a})})});s.displayName="Table";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",t),...a})});c.displayName="TableHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...a})});i.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});d.displayName="TableRow";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("th",{ref:r,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})});o.displayName="TableHead";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("td",{ref:r,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})});u.displayName="TableCell";let f=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...a})});f.displayName="TableCaption"},843:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(5420).A)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[5,356,928,801,992,465,743,358],()=>r(3209)),_N_E=e.O()}]);